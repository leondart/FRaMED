language: java

# Only run Travis for changes on the following branches.
branches:
  only:
  - master
  - develop_branch
  - travis-ci

# (Encrypted) GitHub OAuth token used for pushing the generated Javadoc to GH-Pages.
# The token generated by GitHub is encrypted using 'travis encrypt GH_TOKEN=<token>'.
# TODO: automatically publish JavaDoc if needed

# Pull the CROM dependency and install it locally.
before_install:
- wget https://github.com/Eden-06/CROM/releases/download/v0.1.0/org.rosi.crom.metamodel-0.1.0.jar

install:
- mvn install:install-file -Dfile=org.rosi.crom.metamodel-0.1.0.jar -DgroupId=org.rosi.crom.metamodel -DartifactId=org.rosi.crom.metamodel -Dversion=0.1.0 -Dpackaging=jar

# Install the application locally. Only print errors.
script:
- mvn install -Dmaven.javadoc.skip=true -f ORM/org.framed.orm.build/pom.xml
