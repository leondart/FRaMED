language: java

# Only run Travis for changes on the following branches.
branches:
  only:
  - master

# (Encrypted) GitHub OAuth token used for pushing the generated Javadoc to GH-Pages.
# The token generated by GitHub is encrypted using 'travis encrypt GH_TOKEN=<token>'.
#env:
#  global:
#  - secure: "MrqszRJv4q/pF7l1YtElut3d2XaZ2h9VOOzr3oHfcUJbQCa3mv5r95coW83tLbtmfYTK8c5Zepd1U6Tdwca2veZgkNz3L/vuChEU1kN5htpRD1r4o1WYKbx0fG/IUKoXT8Y9IeryXuPDPYjOThtUAb2ueUjpWNyNUlAPuGCR7k8="

# Navigate to the FRaMED parent build project before running "install" and "script" phase.
before_install:
- cd ORM/org.framed.orm.build/

# Install the application locally. Only print errors.
install:
- mvn install -Dmaven.javadoc.skip=true -B -q

# Run the tests and package the application. Only print errors.
script:
- mvn clean test package -B -q

# If the build was successful, try to publish the generated Javadoc to GitHub. 
# See the documentation of 'travis/push-javadoc-to-gh-pages.sh' for more details.
#after_success:
#- cd $TRAVIS_BUILD_DIR
#- chmod -R 777 ./travis/push-javadoc-to-gh-pages.sh
#- ./travis/push-javadoc-to-gh-pages.sh

